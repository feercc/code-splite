---
description: 代理模式的设计与实现
---

# 代理模式

## 代理图片加载

单一职责：对于对象、类、或者方法而言，应该仅有一个引起它变化的原因

```javascript
const myImage = (function () {
  const imgNode = document.createElement("img");
  document.body.appendChild(imgNode);
  return function(src){
    imgNode.src = src;
  }
})();

const proxyImage = (function () {
  const img = new Image();
  img.onload = () => {
    myImage(this.src);
  };
  return function(src){
    myImage("./loading.gif");
      img.src = src;
  }
})();

proxyImage("./pic.png");

```

还有缓存代理，将一些结果缓存起来，下次再需要执行相同操作的时候就从缓存里面取，减少了计算量
